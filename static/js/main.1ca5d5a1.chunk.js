(this.webpackJsonpphone=this.webpackJsonpphone||[]).push([[0],[,,,,,,,,,,,,,,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"static/media/phone3d_fr.6402fa0c.glb"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"static/media/phone3d.b298f32c.glb"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"static/media/matcap_03.8f79f9c6.jpg"},function(t,e,i){"use strict";i.r(e);var n=i(2),a=i(3),o=i.n(a),r=i(8),s=i.n(r),h=(i(17),i.p,i(18),i(4)),c=i(9),l=i(1),d=i(6),u=i(5),p=i(0),m=i(10),b=i(11),f=(i(19),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(h.a)(this,a),(i=e.call(this,t)).state={},i.isForward=!0,i.domContainer=null,i.isAnimated=!1,i.naturalRotationEnabled=!0,i.rotateStart=new p.lb,i.rotateEnd=new p.lb,i.rotateDelta=new p.lb,i.naturalRotateSpeed=.05,i.naturalFriction=.99,i.baseRotationFriction=.95,i.zoomFriction=.95,i.textureFriction=.9,i.phoneObject=null,i.headerFooterObject=null,i.naturalDestination=null,i.naturalRotation=null,i.target=new p.mb,i.spherical=new p.fb,i.sphericalDelta=new p.fb,i.defaultCameraZ=252,i.zoomDestination=i.defaultCameraZ,i.textureDestination=new p.lb(0,0),i.animate=i.animate.bind(Object(l.a)(i)),i.onMouseMove=i.onMouseMove.bind(Object(l.a)(i)),i.onDeviceRotation=i.onDeviceRotation.bind(Object(l.a)(i)),i.toggleNaturalRotation=i.toggleNaturalRotation.bind(Object(l.a)(i)),i.updateBaseRotation=i.updateBaseRotation.bind(Object(l.a)(i)),i.forward=i.forward.bind(Object(l.a)(i)),i.backward=i.backward.bind(Object(l.a)(i)),i.load=i.load.bind(Object(l.a)(i)),i.handleResize=i.handleResize.bind(Object(l.a)(i)),i}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("deviceorientation",this.onDeviceRotation,!0)}},{key:"componentDidMount",value:function(){this.load()}},{key:"componentDidUpdate",value:function(t){this.props.lang&&this.props.lang!==t.lang&&this.load()}},{key:"handleResize",value:function(){this.renderer.setSize(this.domContainer.offsetWidth,this.domContainer.offsetHeight),this.naturalDestination={x:this.rotateStart.x,y:this.rotateStart.y},this.baseRotation&&this.baseRotation.copy(this.phoneObject.rotation),this.zoomDestination=this.defaultCameraZ}},{key:"load",value:function(){var t=this;if(this.isLoading3D)setTimeout(this.load,1e3);else{this.isLoading3D=!0;var e={width:this.domContainer.offsetWidth,height:this.domContainer.offsetHeight};if(!this.scene){this.scene=new p.Z,this.camera=new p.P(60,e.width/e.height,.01,1e3),this.scene.add(this.camera),this.renderer=new p.pb({antialias:!0,alpha:!0}),this.renderer.setSize(e.width,e.height),this.renderer.physicallyCorrectLights=!0,this.renderer.gammaOutput=!0,this.renderer.gammaFactor=2.2,this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e.width,e.height),this.domContainer.appendChild(this.renderer.domElement);var n=new p.a(16777215,3.1);n.name="ambient_light",this.camera.add(n)}var a=new m.a,o=new b.a;o.setDecoderPath("/three/draco/"),a.setDRACOLoader(o);var r=i("fr"===this.props.lang?20:21),s=i(22),h=(new p.hb).load(s.default,(function(){h.encoding=p.qb,a.load(r.default,(function(e){t.phoneObject&&t.scene.remove(t.phoneObject),t.phoneObject=e.scene||e.scenes[0];var i=(new p.d).setFromObject(t.phoneObject),n=i.getSize(new p.mb).length(),a=i.getCenter(new p.mb);t.phoneObject.position.x+=t.phoneObject.position.x-a.x,t.phoneObject.position.y+=t.phoneObject.position.y-a.y,t.phoneObject.position.z+=t.phoneObject.position.z-a.z,t.camera.position.copy(a),t.camera.position.z+=n,t.defaultCameraZ=t.camera.position.z,t.camera.lookAt(a),t.phoneObject.children[0].material=new p.G({matcap:h});for(var o=0;o<t.phoneObject.children[0].children.length;o++)"Ecran001"===t.phoneObject.children[0].children[o].name?t.screenObject=t.phoneObject.children[0].children[o]:"header_footer"===t.phoneObject.children[0].children[o].name&&(t.headerFooterObject=t.phoneObject.children[0].children[o]);t.headerFooterObject.material=t.screenObject.material.clone(),t.headerFooterObject.material.map=t.screenObject.material.map.clone(),t.headerFooterObject.material.map.needsUpdate=!0,t.scene.add(t.phoneObject),t.isAnimated||(t.props.isForward?t.forward(0,0):t.backward(0,0),t.props.onLoadingDone&&t.props.onLoadingDone()),t.isAnimated||(t.isAnimated=!0,requestAnimationFrame(t.animate),document.addEventListener("mousemove",t.onMouseMove,!1),window.addEventListener("deviceorientation",t.onDeviceRotation,!1)),t.isLoading3D=!1}),void 0,(function(t){console.log("Error loading 3 obj:",t)}))}))}}},{key:"onMouseMove",value:function(t){this.naturalRotationEnabled&&(t.preventDefault(),this.naturalDestination={x:t.clientX,y:t.clientY})}},{key:"onDeviceRotation",value:function(t){this.naturalRotationEnabled&&(t.preventDefault(),this.naturalDestination={x:t.alpha+5*t.gamma,y:5*(t.beta-45)})}},{key:"animate",value:function(t){this.isAnimated&&(requestAnimationFrame(this.animate),this.update(),this.renderer.render(this.scene,this.camera))}},{key:"logFn",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=e-t;return e===t||Math.abs(a)<=n?e:e-a*i}},{key:"update",value:function(){if(this.naturalDestination){var t={x:this.naturalDestination.x-window.innerWidth/2,y:this.naturalDestination.y-window.innerHeight/2};this.rotateEnd.set(this.logFn(this.rotateStart.x,t.x,this.naturalFriction),this.logFn(this.rotateStart.y,t.y,this.naturalFriction)),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.naturalRotateSpeed),this.sphericalDelta.theta-=2*Math.PI*this.rotateDelta.x/this.renderer.domElement.clientHeight,this.sphericalDelta.phi-=2*Math.PI*this.rotateDelta.y/this.renderer.domElement.clientHeight,this.rotateStart.copy(this.rotateEnd);var e=new p.mb,i=(new p.U).setFromUnitVectors(this.camera.up,new p.mb(0,1,0)),n=i.clone().inverse();e.copy(this.camera.position).sub(this.target),e.applyQuaternion(i),this.spherical.setFromVector3(e),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.makeSafe(),this.spherical.radius*=1,e.setFromSpherical(this.spherical),e.applyQuaternion(n),this.camera.position.copy(this.target).add(e),this.camera.lookAt(this.target),this.sphericalDelta.set(0,0,0)}this.phoneObject&&this.baseRotation&&(this.phoneObject.rotation.x=this.logFn(this.phoneObject.rotation.x,this.baseRotation.x,this.baseRotationFriction,1e-5),this.phoneObject.rotation.y=this.logFn(this.phoneObject.rotation.y,this.baseRotation.y,this.baseRotationFriction,1e-5),this.phoneObject.rotation.z=this.logFn(this.phoneObject.rotation.z,this.baseRotation.z,this.baseRotationFriction,1e-5)),this.zoomDestination&&(this.camera.position.z=this.logFn(this.camera.position.z,this.zoomDestination,this.zoomFriction,.1)),this.textureDestination&&(this.screenObject.material.map.offset.x=this.logFn(this.screenObject.material.map.offset.x,this.textureDestination.x,this.textureFriction,.001),(this.screenObject.material.map.offset.x<=.001||this.textureDestination.y>=this.screenObject.material.map.offset.y)&&(this.screenObject.material.map.offset.y=this.logFn(this.screenObject.material.map.offset.y,this.textureDestination.y,this.textureFriction,.001)))}},{key:"updateBaseRotation",value:function(t,e,i){this.baseRotation=new p.mb(t*Math.PI/180,e*Math.PI/180,i*Math.PI/180)}},{key:"toggleNaturalRotation",value:function(t){this.naturalRotationEnabled=t,this.naturalRotationEnabled||(this.naturalDestination={x:window.innerWidth/2,y:window.innerHeight/2})}},{key:"updateZoomPercentage",value:function(t){this.zoomDestination=this.defaultCameraZ/(1+t)}},{key:"updateTexture",value:function(t,e){this.textureDestination.x=t,this.textureDestination.y=e}},{key:"forward",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isForward||(this.isForward=!0,setTimeout((function(){t.domContainer.style.transition="all ease-out ".concat(e,"ms"),t.domContainer.style.transform="scale(1.0)"}),i))}},{key:"backward",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isForward&&(this.isForward=!1,setTimeout((function(){t.domContainer.style.transition="all ease-out ".concat(e,"ms"),t.domContainer.style.transform="scale(1.0)"}),i))}},{key:"render",value:function(){var t=this;return Object(n.jsx)("div",{className:"phone-3d-container",ref:function(e){return t.domContainer=e}})}}]),a}(a.PureComponent));var v=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(f,{})})},j=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,24)).then((function(e){var i=e.getCLS,n=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;i(t),n(t),a(t),o(t),r(t)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root")),j()}],[[23,1,2]]]);
//# sourceMappingURL=main.1ca5d5a1.chunk.js.map